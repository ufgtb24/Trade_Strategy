# 批量扫描通用配置文件
# 版本: v2.0 (支持CSV索引模式)
# 用于技术分析模块的扫描任务

# 数据设置
data:
  # 股票数据目录（相对于项目根目录）
  data_dir: "/home/yu/PycharmProjects/Trade_Strategy/datasets/pkls"

  # 最大扫描股票数（null表示不限制）
  max_stocks: null

  # ============================================================
  # 模式1：全局时间范围模式（默认）
  # 当 csv_file = null 时使用
  # ============================================================
  # 数据截取时段 (YYYY-MM-DD, null表示不限制)
  start_date: "2023-01-01"
  end_date: null

  # ============================================================
  # 模式2：CSV索引模式
  # 当 csv_file 有效时使用（优先级高于全局时间范围）
  # ============================================================
  # CSV文件路径（picker.pick()的输出文件）
  # 格式要求：必须包含 date 和 name 列
  # 示例格式：
  #   date,name,label
  #   2024-07-19,VRAX,True
  #   2024-07-09,PW,True
  # csv_file: null
  # csv_file: "/home/yu/PycharmProjects/new_trade/ext_file/ui/clear_feature.txt"
  csv_file: "scripts/grow_3times_1month_100_618_618.txt"
  # 启用示例: "/home/yu/PycharmProjects/new_trade/ext_file/ui/clear_feature.txt"

  # 相对时间范围参数（仅CSV模式有效）
  # 检测范围 = [date - mon_before个月, date + mon_after个月]
  mon_before: 6  # 基准日期前N个月
  mon_after: 3   # 基准日期后N个月

# 输出设置
output:
  # 扫描结果输出目录（相对于项目根目录）
  output_dir: "outputs/scan_results"

# 性能设置
performance:
  # 并行worker数量
  num_workers: null

# 参数配置引用
params:
  # 参数配置文件路径（相对于项目根目录）
  config_file: "configs/params/scan_params.yaml"

# 回测标签配置
label:
  # 标签计算参数：min_days = 最低价窗口，max_days = 最高价窗口
  # 标签值 = (max_days天内最高价 - min_days天内最低价) / min_days天内最低价
  label_configs:
    - min_days: 5
      max_days: 20
