评分：有很强烈看涨信号的突破，却需要满足所有条件，求和

涨势中的突破，何为涨势

调参



最后一个突破的敏感度

我对突破评分中的 Historical - suppression_span 项存在疑虑：我认为既然属于 Historical 条目，那么 suppression_span 应该判断的是峰值的心理阻力，并且应该和其他的评分项解耦合，所以 Suppression Span  有两个不合适的理由：
1. Historical - Oldest Age 会和 Suppression Span 产生耦合，它们都包含了峰值的时间压制力。
2. 我认为应该将 Suppression Span 替换为峰值的相对高度，因为相对高度才会造成心理阻力(例如 W 型突破)。

与此同时，peak_score 的评分中，应该取消相对高度 height_score，应为 peak_score 最终会被用到 _get_resistance_breakdown 的 _score_effective_quality 中，
_get_resistance_breakdown 评判的是筹码堆积的阻力强度，不应该关于心理阻力。
而相对高度与筹码堆积程度无关，因为相对高度大只会形成发散的筹码峰。
因此我觉得 _get_resistance_breakdown 只应该保留 volume_score 和 candle_score,因为这两项可以反映峰值集中在单点的剧烈程度，容易形成密集筹码峰，从而形成阻力。
ultrathink




------------
---------------
在技术分析模块中增加峰值的定义范围，将图中这种单日大幅下跌的K线的最高价也纳入凸点的范围内，作为一种特殊意义点进行突破检测。
我观察到的特征：
1. 单日K线大幅下跌
2. 实体长度比过去数日和未来数日中的所有K线的实体都长
3. 位于一个下跌趋势的开始位置

将这个峰值的定义独立的模块化，作为突破检测中的一种特殊意义点进行处理。
启用两个子代理头脑风暴，先不要实现代码，给出方案。

---------------
BreakthroughStrategy/analysis/features.py 28


_calculate_stability 使用了未来的数据。
实盘交易时，我有两个观察池
这个指标肯定不会被实时观察池使用，因为实时观察池只容纳完成突破距离此刻不超过一天的股票
而对于日K观察池，只能获取从突破日之后，当天之前，这段时间的走势，包含的交易日数量很可能小于 self.stability_lookforward
因此基于 self.stability_lookforward 的

我认为这个指标的使用场景是在实盘交易选股时，扫描过去一段时间的突破，